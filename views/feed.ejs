<%- include('partials/header') -%>

<div class="container">
  <div class="row justify-content-center mt-5">
    <ul class="row list-unstyled">
      <% for (var i = 0; i < posts.length; i++) { %>
        <li class="col-6 justify-content-between mt-5">
          <a href="/post/<%= posts[i]._id %>">
            <!-- Display the username -->
            <p><%= posts[i].user ? posts[i].user.userName : 'Unknown' %></p> 
            <!-- Display the profile image -->
            <% if (posts[i].user && posts[i].user.profileImage) { %>
              <img src="<%= posts[i].user.profileImage %>" alt="Profile Picture" class="img-fluid rounded-circle mb-3" style="max-width: 150px;">
            <% } else { %>
              <img src="/imgs/anyn.png" alt="Default Profile Picture" class="img-fluid rounded-circle mb-3" style="max-width: 150px;">
            <% } %>
            <!-- Display the post image -->
            <img class="img-fluid" src="<%= posts[i].image %>">
          </a>
        </li>
      <% } %>
    </ul>
  </div>
</div>


<%- include('partials/footer') -%>